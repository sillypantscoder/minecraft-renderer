<!DOCTYPE html>
<html>
	<head>
		<script>//window.addEventListener('error', (e) => alert(`${e.message} :${e.lineno}`))</script>
		<script src="https://threejs.org/build/three.js"></script>
		<script src="https://threejs.org/examples/js/controls/OrbitControls.js"></script>
		<style>
body {
	margin: 0;
}
		</style>
	</head>
	<body>
		<script>
const world_size = 30
const logical_height = 4
const max_height = 20
const n_biomes = world_size / 2
const biome_shift = logical_height * 2

const loader = new THREE.TextureLoader();
const block_grass_materials = [
	new THREE.MeshPhongMaterial({map: loader.load('/textures/grass_block_side.png')}),
	new THREE.MeshPhongMaterial({map: loader.load('/textures/grass_block_side.png')}),
	new THREE.MeshPhongMaterial({map: loader.load('/textures/grass_block_top.jpeg')}),
	new THREE.MeshPhongMaterial({map: loader.load('/textures/dirt.png')}),
	new THREE.MeshPhongMaterial({map: loader.load('/textures/grass_block_side.png')}),
	new THREE.MeshPhongMaterial({map: loader.load('/textures/grass_block_side.png')}),
];
const block_dirt_materials = [
	new THREE.MeshPhongMaterial({map: loader.load('/textures/dirt.png')}),
	new THREE.MeshPhongMaterial({map: loader.load('/textures/dirt.png')}),
	new THREE.MeshPhongMaterial({map: loader.load('/textures/dirt.png')}),
	new THREE.MeshPhongMaterial({map: loader.load('/textures/dirt.png')}),
	new THREE.MeshPhongMaterial({map: loader.load('/textures/dirt.png')}),
	new THREE.MeshPhongMaterial({map: loader.load('/textures/dirt.png')}),
];
		</script>
		<script src="worldgen.js"></script>
		<script src="world_compile.js"></script>
		<script src="renderer.js"></script>
		<script>
(() => {
	return new Promise((resolve) => {
		var x = new XMLHttpRequest()
		x.open("GET", "render.json")
		x.addEventListener("loadend", (e) => {
			resolve(JSON.parse(e.target.responseText))
		})
		x.send()
	})
})().then((textures) => {
	render(textures, window.world).then((elm) => {
		document.body.appendChild(elm);
	});
})
		</script>
	</body>
</html>